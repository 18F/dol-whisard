{"version":3,"sources":["/Users/bren/Documents/code/dol-whisard/src async","/Users/bren/Documents/code/dol-whisard/src/app/_service/file-reader.service.ts","/Users/bren/Documents/code/dol-whisard/src/app/_util/index.ts","/Users/bren/Documents/code/dol-whisard/src/app/app.component.html","/Users/bren/Documents/code/dol-whisard/src/app/app.component.ts","/Users/bren/Documents/code/dol-whisard/src/app/app.module.ts","/Users/bren/Documents/code/dol-whisard/src/app/import-page.component.html","/Users/bren/Documents/code/dol-whisard/src/app/import-page.component.ts","/Users/bren/Documents/code/dol-whisard/src/app/not-found.component.html","/Users/bren/Documents/code/dol-whisard/src/app/not-found.component.ts","/Users/bren/Documents/code/dol-whisard/src/environments/environment.ts","/Users/bren/Documents/code/dol-whisard/src/main.ts","fs (ignored)","crypto (ignored)","stream (ignored)"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bren/Documents/code/dol-whisard/src async\n// module id = ../../../../../src async recursive\n// module chunks = 1","import { Injectable } from '@angular/core'\n\n@Injectable()\nexport class FileReaderService {\n  load(file) {\n    const reader = new FileReader()\n    return new Promise((resolve, reject) => {\n      reader.onload = (e: any) => resolve(e.target.result)\n      reader.onerror = () => reject(this)\n      reader.readAsBinaryString(file)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bren/Documents/code/dol-whisard/src/app/_service/file-reader.service.ts","export const s2ab = s => {\n  const buff = new ArrayBuffer(s.length)\n  const view = new Uint8Array(buff)\n\n  for (let i = 0; i < s.length; i++) {\n    // tslint:disable-next-line:no-bitwise\n    view[i] = s.charCodeAt(i) & 0xff\n  }\n\n  return buff\n}\n\nexport const COLUMNS = [\n  {\n    id: 'Ee_F_Name',\n    name: 'First name',\n  },\n  {\n    id: 'Ee_Mi',\n    name: 'Middle initial',\n  },\n  {\n    id: 'Ee_L_Name',\n    name: 'Last name',\n  },\n  {\n    id: 'Ee_Addr1',\n    name: 'Address street 1',\n  },\n  {\n    id: 'Ee_City',\n    name: 'City',\n  },\n  {\n    id: 'Ee_State_Id',\n    name: 'State',\n  },\n  {\n    id: 'Ee_Zip',\n    name: 'Zip',\n  },\n  {\n    id: 'Ee_Phone1',\n    name: 'Primary phone',\n  },\n  {\n    id: 'Date_Employ_Beg',\n    name: 'Employment start',\n  },\n  {\n    id: 'Date_Employ_End',\n    name: 'Employment end',\n  },\n  {\n    id: 'EE_Job_Title1',\n    name: 'Job title',\n  },\n  {\n    id: 'EE_Job_Pay_Rate1',\n    name: 'Job pay rate',\n  },\n  {\n    id: 'Date_Beg_Viol',\n    name: 'Violation start',\n  },\n  {\n    id: 'Date_End_Viol',\n    name: 'Violation end',\n  },\n  {\n    id: 'Amt_BW_Computed',\n    name: 'BW computed',\n  },\n]\n\n\n\n// WEBPACK FOOTER //\n// /Users/bren/Documents/code/dol-whisard/src/app/_util/index.ts","module.exports = \"<router-outlet></router-outlet>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bren/Documents/code/dol-whisard/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = 1","import { Component } from '@angular/core'\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n})\nexport class AppComponent {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bren/Documents/code/dol-whisard/src/app/app.component.ts","import { NgModule } from '@angular/core'\nimport { BrowserModule } from '@angular/platform-browser'\nimport { RouterModule, Routes } from '@angular/router'\n\nimport { AppComponent } from './app.component'\nimport { ImportPageComponent } from './import-page.component'\nimport { NotFoundComponent } from './not-found.component'\n\nimport { FileReaderService } from './_service/file-reader.service'\n\nconst routes: Routes = [\n  { path: 'import', component: ImportPageComponent },\n  { path: '', redirectTo: '/import', pathMatch: 'full' },\n  { path: '**', component: NotFoundComponent },\n]\n\n@NgModule({\n  imports: [BrowserModule, RouterModule.forRoot(routes)],\n  declarations: [AppComponent, ImportPageComponent, NotFoundComponent],\n  providers: [FileReaderService],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bren/Documents/code/dol-whisard/src/app/app.module.ts","module.exports = \"<div class='bg-navy white'>\\n  <div class='p2 container mx-auto sm-flex items-center'>\\n    <div class='mb1 sm-m0 flex-auto'>\\n      <div class='h5 light'>Employer</div>\\n      <div class='h2'>Dunder Mifflin</div>\\n    </div>\\n    <div>\\n      <div class='h5 light'>Case ID</div>\\n      <div class='h2'>123456789</div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class='p2 container mx-auto'>\\n  <h1 class='mb3'>Import Excel File</h1>\\n  <div class='mb3'>\\n    <div class='mb1 h3'>1. Select file</div>\\n    <input type='file' (change)='loadFile($event)' multiple='false'>\\n    <div *ngIf='data && data.length' class='py2'>\\n      <div class='h6 bold caps'>Preview data</div>\\n      <div class='py1'>\\n        <button\\n          type=\\\"button\\\"\\n          class=\\\"btn btn-small btn-outline h5 regular\\\"\\n          [disabled]=\\\"!idx\\\"\\n          (click)=\\\"seek(-1)\\\"\\n        >\\n          Prev\\n        </button>\\n        <button\\n          type=\\\"button\\\"\\n          class=\\\"btn btn-small btn-outline h5 regular\\\"\\n          [disabled]=\\\"idx + 1 === data.length\\\"\\n          (click)=\\\"seek(1)\\\"\\n        >\\n          Next\\n        </button>\\n      </div>\\n      <div>Showing row {{ idx + 1 }} of {{ data.length }}:</div>\\n      <pre class='mt0 mb2 p2 bg-darken-1 overflow-auto'>{{ data[idx] | json }}</pre>\\n      <button\\n        class=\\\"btn btn-small btn-primary h5 regular\\\"\\n        (click)=\\\"downloadData()\\\"\\n      >\\n        Download data\\n      </button>\\n    </div>\\n  </div>\\n  <div class='mb3'>\\n    <div class='mb1 h3'>2. Choose which columns to import</div>\\n    <div>\\n      <div\\n        *ngFor=\\\"let col of cols\\\"\\n        class='py1 border-bottom border-silver'\\n      >\\n        {{ col.name }}\\n      </div>\\n    </div>\\n  </div>\\n  <div>\\n    <button class='btn btn-primary regular' type='button'>Import</button>\\n    <button class='btn btn-outline regular' type='button'>Cancel</button>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bren/Documents/code/dol-whisard/src/app/import-page.component.html\n// module id = ../../../../../src/app/import-page.component.html\n// module chunks = 1","import { Component } from '@angular/core'\nimport { saveAs } from 'file-saver'\nimport * as XLS from 'xlsx'\n\nimport { FileReaderService } from './_service/file-reader.service'\nimport { s2ab, COLUMNS } from './_util'\n\nconst { aoa_to_sheet, book_append_sheet, book_new, sheet_to_json } = XLS.utils\n\n@Component({\n  selector: 'app-import',\n  templateUrl: './import-page.component.html',\n})\nexport class ImportPageComponent {\n  cols = COLUMNS\n  data = null\n  idx = 0\n\n  constructor(private reader: FileReaderService) {}\n\n  loadFile(e) {\n    const files = e.target.files\n\n    if (files.length !== 1) {\n      console.log('Cannot upload multiple files on the entry')\n      return\n    }\n\n    this.reader.load(files[0]).then(data => this.parseFile(data))\n  }\n\n  parseFile(bstr) {\n    // read workbook\n    const wb = XLS.read(bstr, { type: 'binary' })\n\n    // get first sheet\n    const wsname = wb.SheetNames[0]\n    const ws = wb.Sheets[wsname]\n\n    // save data\n    const data = sheet_to_json(ws, { header: 1 })\n    console.log('data: ', data)\n\n    this.data = data\n    this.idx = 0\n  }\n\n  downloadData() {\n    // generate worksheet\n    const ws = aoa_to_sheet(this.data)\n\n    // generate workbook and add the worksheet\n    const wb = book_new()\n    book_append_sheet(wb, ws, 'Sheet1')\n\n    // save workbook locally\n    const wbout = XLS.write(wb, { bookType: 'xlsx', type: 'binary' })\n    saveAs(new Blob([s2ab(wbout)]), 'output.xls')\n  }\n\n  seek(n) {\n    this.idx += n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bren/Documents/code/dol-whisard/src/app/import-page.component.ts","module.exports = \"<div class='p2 sm-py4 center'>\\n  <h1 class='mb1 h2'>Whoops, we can't find that page.</h1>\\n  <p class='mt0 mb1'>You might want to double-check your link and try again. (404)</p>\\n  <p class='m0 h2'>ðŸ‡ºðŸ‡¸</p>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/bren/Documents/code/dol-whisard/src/app/not-found.component.html\n// module id = ../../../../../src/app/not-found.component.html\n// module chunks = 1","import { Component } from '@angular/core'\n\n@Component({\n  selector: 'app-not-found',\n  templateUrl: './not-found.component.html',\n})\nexport class NotFoundComponent {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bren/Documents/code/dol-whisard/src/app/not-found.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/bren/Documents/code/dol-whisard/src/environments/environment.ts","import { enableProdMode } from '@angular/core'\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\n\nimport { AppModule } from './app/app.module'\nimport { environment } from './environments/environment'\n\nif (environment.production) {\n  enableProdMode()\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n\n\n\n// WEBPACK FOOTER //\n// /Users/bren/Documents/code/dol-whisard/src/main.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// fs (ignored)\n// module id = 0\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 1\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// stream (ignored)\n// module id = 2\n// module chunks = 1"],"sourceRoot":"webpack:///"}